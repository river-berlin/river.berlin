var H=Object.defineProperty;var O=(i,e,t)=>e in i?H(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var a=(i,e,t)=>O(i,typeof e!="symbol"?e+"":e,t);import{o as U,a as u,t as v}from"../chunks/disclose-version.ZZ05wG9w.js";import"../chunks/legacy.C5WEQ8CC.js";import{p as L,t as T,a as I,a8 as m,s as f,g,c as o,a9 as V,r as n,m as G,at as F}from"../chunks/runtime.BJvmUhqp.js";import{s as J}from"../chunks/slot.46booX_F.js";import{i as $}from"../chunks/lifecycle.wnX_UMhn.js";import{o as C}from"../chunks/index-client.ClkBzpIu.js";import{i as K}from"../chunks/if.Bwpi0SWl.js";import{s as Q}from"../chunks/attributes.BBMiQkLJ.js";import{t as B}from"../chunks/class.CW4XIsKU.js";import{s as Z,a as ee}from"../chunks/store.C9rCYM2Q.js";import{p as te}from"../chunks/stores.BYlnDvOX.js";const se=!0,ae="always",_e=Object.freeze(Object.defineProperty({__proto__:null,prerender:se,trailingSlash:ae},Symbol.toStringTag,{value:"Module"})),ie=""+new URL("../assets/meditating-enby.Ddx2L9rE.svg",import.meta.url).href;var re=v('<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path></svg>'),oe=v('<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary-600" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>'),ne=v(`<div class="w-full flex justify-center px-6 pt-8 mb-8 bg-white dark:bg-black transition-colors duration-200"><div class="flex flex-col md:flex-row justify-between items-center w-full max-w-[700px] gap-4"><a class="header-link svelte-1spfctb" href="/"><div class="flex items-center"><img alt="a meditating non-binary person" height="80" class="h-20"> <h1 class="ml-5 text-4xl font-['Reenie_Beanie'] text-primary-700 dark:text-primary-400">River's webstuff</h1></div></a> <div class="flex items-center gap-4"><div class="font-['Sofia_Sans']"><div class="flex gap-3"><div class="page svelte-1spfctb"><a href="/about-me" class="text-gray-800 dark:text-gray-200 hover:text-primary-600 dark:hover:text-primary-400 transition-colors svelte-1spfctb">About me</a></div> <div class="text-gray-400 dark:text-gray-500">/</div> <div class="page svelte-1spfctb"><a href="/feed" class="text-gray-800 dark:text-gray-200 hover:text-primary-600 dark:hover:text-primary-400 transition-colors svelte-1spfctb">Feed</a></div></div></div> <button aria-label="Toggle dark mode" class="theme-toggle bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 svelte-1spfctb"><!></button></div></div></div>`);function le(i,e){L(e,!1);const t=Z(),r=()=>ee(te,"$page",t);function c(l){const d=l.url.pathname;return d.startsWith("/feed/")||d.startsWith("/projects/")||d.startsWith("/book-reviews/")||d.startsWith("/blog/")}let s=G(!1);function h(){m(s,!g(s)),g(s)?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))}C(()=>{const l=localStorage.getItem("darkMode");if(l==="true")m(s,!0),document.documentElement.classList.add("dark");else if(l==="false")m(s,!1),document.documentElement.classList.remove("dark");else{const d=window.matchMedia("(prefers-color-scheme: dark)");d.matches&&(m(s,!0),document.documentElement.classList.add("dark")),d.addEventListener("change",P=>{localStorage.getItem("darkMode")===null&&(P.matches?(m(s,!0),document.documentElement.classList.add("dark")):(m(s,!1),document.documentElement.classList.remove("dark")))})}}),$();var p=ne(),k=o(p),x=o(k),M=o(x),N=o(M);Q(N,"src",ie),V(2),n(M),n(x);var _=f(x,2),y=o(_),z=o(y),b=o(z),R=o(b);const X=F(()=>r().url.pathname.startsWith("/about-me/"));T(()=>B(R,"highlighted",g(X))),n(b);var S=f(b,4),Y=o(S);const j=F(()=>c(r()));T(()=>B(Y,"highlighted",g(j))),n(S),n(z),n(y);var w=f(y,2),A=o(w);{var W=l=>{var d=re();u(l,d)},q=l=>{var d=oe();u(l,d)};K(A,l=>{g(s)?l(W):l(q,!1)})}n(w),n(_),n(k),n(p),U("click",w,h),u(i,p),I()}globalThis.localStorage||(globalThis.localStorage={getItem:()=>null,setItem:()=>{}});let E=globalThis.localStorage.getItem("darkMode")==="true";function D(i){const e=globalThis.localStorage.getItem("darkMode")==="true";e!==E&&(console.log("darkmode changed"),E=e,i()),setTimeout(()=>{D(i)},100)}class de{constructor(e){a(this,"element");a(this,"container");a(this,"x");a(this,"y");a(this,"targetX",0);a(this,"targetY",0);a(this,"speedX");a(this,"speedY");a(this,"size");a(this,"brightness");a(this,"animationFrame",null);a(this,"isBlue");a(this,"animate",()=>{this.moveTowardsTarget(),this.animationFrame=requestAnimationFrame(this.animate)});this.container=e,this.size=Math.random()*2+2,this.isBlue=Math.random()>.5,this.element=document.createElement("div"),this.element.className="firefly",this.element.style.position="absolute",this.element.style.width=`${this.size}px`,this.element.style.height=`${this.size}px`,this.element.style.borderRadius="50%",this.element.style.transition="opacity 1s ease-in-out, box-shadow 1s ease-in-out",this.element.style.zIndex="-1000",this.container.appendChild(this.element);const t=e.getBoundingClientRect();this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.updatePosition(),this.speedX=Math.random()*.5+.1,this.speedY=Math.random()*.5+.1,this.setNewTarget(),this.brightness=1,this.updateBrightness(),this.animate(),D(()=>{this.isBlue=Math.random()>.5,this.updateBrightness()})}setNewTarget(){const e=this.container.getBoundingClientRect();this.targetX=Math.random()*e.width,this.targetY=Math.random()*e.height}updatePosition(){this.element.style.left=`${this.x}px`,this.element.style.top=`${this.y}px`}updateBrightness(){const e=localStorage.getItem("darkMode")==="true";let t,r;const c=this.size*(e?3:2),s=this.brightness;this.isBlue?(t=`rgba(42, 148, 230, ${s})`,r="rgba(42, 148, 230, 0.7)",this.element.classList.add("blue-firefly")):(t=`rgba(255, 255, 150, ${s})`,r="rgba(255, 255, 150, 0.7)"),this.element.style.backgroundColor=r,this.element.style.boxShadow=`0 0 ${c}px ${c/2}px ${t}`}moveTowardsTarget(){const e=this.targetX-this.x,t=this.targetY-this.y;Math.sqrt(e*e+t*t)<5&&this.setNewTarget(),this.x+=e*this.speedX*.02,this.y+=t*this.speedY*.02,this.updatePosition()}destroy(){this.animationFrame&&cancelAnimationFrame(this.animationFrame),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}}class ce{constructor(e,t=3){a(this,"container",null);a(this,"fireflies",[]);a(this,"count",3);const r=document.querySelector(e);if(!r){console.error("Fireflies container not found:",e);return}this.container=r,this.count=t,window.getComputedStyle(this.container).position==="static"&&(this.container.style.position="relative"),this.createFireflies(),window.addEventListener("storage",s=>{console.log("storage event",s),s.key==="darkMode"&&this.fireflies.length>0&&(console.log("darkmode changed"),this.fireflies.forEach(h=>{h.isBlue=Math.random()>.5,h.updateBrightness()}))})}createFireflies(){if(this.container)for(let e=0;e<this.count;e++)this.fireflies.push(new de(this.container))}destroy(){this.fireflies.forEach(e=>e.destroy()),this.fireflies=[]}}var he=v('<div class="min-h-screen bg-white dark:bg-black text-gray-900 dark:text-white transition-colors duration-200"><div id="fireflies-container" class="fixed inset-0 pointer-events-none z-10"></div> <!> <main class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-12"><!></main></div>');function ze(i,e){L(e,!1);let t;C(()=>(setTimeout(()=>{t=new ce("#fireflies-container",5)},100),()=>{t&&t.destroy()})),$();var r=he(),c=f(o(r),2);le(c,{});var s=f(c,2),h=o(s);J(h,e,"default",{}),n(s),n(r),u(i,r),I()}export{ze as component,_e as universal};
